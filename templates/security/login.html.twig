{% extends 'visitorLayout.html.twig' %}

{% block title %}Se connecter / S'inscrire{% endblock %}

{% block body %}
    <section class="log-in my-5">
        <div class="container my-5">

            <ul class="nav nav-pills mb-4 justify-content-center my-5 pt-5" id="pills-tab" role="tablist">
                <li class="nav-item m-2">
                    <a class="nav-link active" id="pills-connexion-tab" data-toggle="pill"
                       href="#pills-connexion"
                       role="tab"
                       aria-controls="pills-home" aria-selected="true">Connexion</a>
                </li>
                <li class="nav-item m-2">
                    <a class="nav-link" id="pills-inscription-tab" data-toggle="pill" href="#pills-inscription"
                       role="tab"
                       aria-controls="inscription" aria-selected="false">Inscription</a>
                </li>
            </ul>

            <div class="tab-content" id="pills-tabContent">
                <div class="tab-pane fade show active" id="pills-connexion" role="tabpanel"
                     aria-labelledby="connexion">

                    <h3 class="text-center my-5">Je me connecte</h3>

                    <form method="post">
                        <div class="form-row justify-content-center">
                            {% if error %}
                                <div class="alert alert-danger col-8">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                            {% endif %}

                            <div class="form-group col-10 col-md-10">
                                <label for="inputEmail" class="col-form-label">Email</label>
                                <input type="email" value="{{ last_username }}" name="email" id="inputEmail"
                                       class="form-control"
                                       placeholder="email@gmail.com" required autofocus>
                            </div>

                            <div class="form-group col-10 col-md-10">
                                <label for="inputPassword" class="col-form-label">Mot de passe</label>
                                <input type="password" name="password" id="inputPassword" class="form-control"
                                       placeholder="Mot de passe"
                                       required>
                            </div>

                            <input type="hidden" name="_csrf_token"
                                   value="{{ csrf_token('authenticate') }}"
                            >

                            <div class="checkbox col-12 mb-3 my-4 text-center">
                                <label>
                                    <input type="checkbox" name="_remember_me"> Se rappeler de moi
                                </label>
                            </div>

                            <button class="btn btn-over-image mt-2" type="submit">
                                Se connecter
                            </button>
                        </div>
                    </form>
                </div>

                <div class="tab-pane fade" id="pills-inscription" role="tabpanel" aria-labelledby="inscription">

                    {{ include('registration/register.html.twig') }}

                </div>

            </div>


        </div>
    </section>
{% endblock %}
